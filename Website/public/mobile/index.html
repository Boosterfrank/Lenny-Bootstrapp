<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rocket Apps</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Rocket" />
    <link rel="apple-touch-icon" href="https://github.com/Boosterfrank/Rocket/blob/main/Images/RocketIconCrop.png?raw=true">
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
          Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        background-color: #000;
        color: white;
        overflow-x: hidden;
      }
      .app-card {
        margin: 20px;
        padding: 20px;
        border-radius: 15px;
        background-color: #111;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
      }
      .get-btn {
        margin-top: 15px;
        padding: 10px 16px;
        font-size: 1rem;
        border: none;
        border-radius: 8px;
        background-color: #1e90ff;
        color: white;
        cursor: pointer;
      }
      .get-btn:disabled {
        background-color: #555;
        cursor: default;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script>
      const SIGNING_URL =
        'https://api.cococloud-signing.online/files/free/own-signing.php?certp12URL=https://github.com/Boosterfrank/Lenny-Bootstrapp/raw/refs/heads/main/Devcert/DevCert.p12&certmobileprovisionURL=https://github.com/Boosterfrank/Lenny-Bootstrapp/raw/refs/heads/main/Devcert/DevProvision.mobileprovision&certpass=684100&url=';

      async function loadApps() {
        const res = await fetch(
          'https://raw.githubusercontent.com/Boosterfrank/Lenny-Bootstrapp/refs/heads/main/Rocket%20App%20Source.json'
        );
        const data = await res.json();

        const container = document.getElementById('app');
        data.apps.forEach((app) => {
          const latest = app.versions[0];
          const sizeMB = (latest.size / 1000000).toFixed(1);

          const card = document.createElement('div');
          card.className = 'app-card';

          card.innerHTML = `
            <img src="${app.iconURL}" alt="${app.name}" width="80" height="80" style="border-radius: 20px" />
            <h2>${app.name}</h2>
            <p>${app.subtitle}</p>
            <p style="color: #888">Version: ${latest.version} â€¢ ${sizeMB} MB</p>
            <button class="get-btn">Get</button>
          `;

          const btn = card.querySelector('button');
          btn.onclick = () => {
            btn.disabled = true;
            const url = SIGNING_URL + encodeURIComponent(latest.downloadURL);
            window.location.href = url;
          };

          container.appendChild(card);
        });
      }

      window.addEventListener('DOMContentLoaded', loadApps);
    </script>
  </body>
</html>
